\documentclass{article}
\usepackage{xltxtra,fancyvrb,geometry,calc}
\usepackage[multidot]{grffile}
\geometry{margin=2cm,a4paper}
\setmainfont{TeX Gyre Pagella}
\setmonofont{Consolas}

\def\prefix{}
\newcommand\inserttest[1]{%
  \subsection{Test #1}
  \begin{minipage}{0.5\textwidth}
  \VerbatimInput{#1\prefix.ltx}
  \end{minipage}
  \hfill
  \begin{minipage}{8cm+4pt}
    \fboxsep=1pt
    \fboxrule=1pt
    \fbox{\includegraphics[width=8cm]{../testfiles/#1\prefix.safe.pdf}}
  \end{minipage}
}

\pagestyle{empty}
\begin{document}
\title{The \textsf{unicode-math} test suite}
\author{Will Robertson}
\date{Compiled: \today}
\maketitle
\thispagestyle{empty}

\section{Preamble}

\begin{minipage}{0.5\textwidth}
The following pieces of output are generated from the code shown.
As well as being good minimal examples, these tests are useful to ensure that new bugs don't affect old behaviour.
When the test suite is run, the new output is compared pixel by pixel with that shown here and warnings produced if the outputs are not identical.
\end{minipage}

\section{Test files for both engines}

Only the Lua\LaTeX\ output is shown; there will be (usually only) negligible differences between the outout between the two engines.

\input{umtest-suite-F.tex}
\def\prefix{}

\section{Lua\LaTeX\ test files}

\input{umtest-suite-L.tex}

\section{\XeLaTeX\ test files}

\input{umtest-suite-X.tex}

\end{document}